<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    app:startDestination="@id/nav_dashboard">

    <!-- Dashboard (Start) -->
    <fragment
        android:id="@+id/nav_dashboard"
        android:name="com.ble1st.connectias.ui.dashboard.DashboardFragment"
        android:label="Connectias" />

    <!-- Settings -->
    <fragment
        android:id="@+id/nav_settings"
        android:name="com.ble1st.connectias.feature.settings.ui.SettingsFragment"
        android:label="@string/nav_settings" />

    <!-- Services Dashboard -->
    <fragment
        android:id="@+id/nav_services_dashboard"
        android:name="com.ble1st.connectias.ui.services.ServicesDashboardFragment"
        android:label="Services" />

    <!-- System Tools -->
    <fragment
        android:id="@+id/nav_log_viewer"
        android:name="com.ble1st.connectias.ui.logging.LogViewerFragment"
        android:label="@string/nav_log_viewer" />

    <!-- Service Log Viewer (external app logs) -->
    <fragment
        android:id="@+id/nav_service_log_viewer"
        android:name="com.ble1st.connectias.ui.servicelogging.ServiceLogViewerFragment"
        android:label="@string/nav_service_log_viewer" />

    <!-- Plugin Management -->
    <fragment
        android:id="@+id/nav_plugin_management"
        android:name="com.ble1st.connectias.ui.plugin.PluginManagementFragment"
        android:label="@string/nav_plugin_management">
        <action
            android:id="@+id/action_nav_plugin_management_to_nav_plugin_permission_detail"
            app:destination="@id/nav_plugin_permission_detail" />
        <action
            android:id="@+id/action_nav_plugin_management_to_nav_plugin_store"
            app:destination="@id/nav_plugin_store" />
        <action
            android:id="@+id/action_nav_plugin_management_to_nav_plugin_security"
            app:destination="@id/nav_plugin_security" />
        <action
            android:id="@+id/action_pluginManagement_to_networkPolicyConfig"
            app:destination="@id/nav_network_policy_config" />
        <action
            android:id="@+id/action_pluginManagement_to_securityAudit"
            app:destination="@id/nav_security_audit_dashboard" />
        <action
            android:id="@+id/action_pluginManagement_to_declarativeBuilder"
            app:destination="@id/nav_declarative_plugin_builder" />
        <action
            android:id="@+id/action_pluginManagement_to_developerKeys"
            app:destination="@id/nav_developer_keys" />
        <action
            android:id="@+id/action_pluginManagement_to_declarativeRuns"
            app:destination="@id/nav_declarative_flow_runs" />
    </fragment>
    
    <!-- Plugin Store -->
    <fragment
        android:id="@+id/nav_plugin_store"
        android:name="com.ble1st.connectias.ui.plugin.store.PluginStoreFragment"
        android:label="Plugin Store" />
    
    <!-- Plugin Permission Detail -->
    <fragment
        android:id="@+id/nav_plugin_permission_detail"
        android:name="com.ble1st.connectias.ui.plugin.PluginPermissionDetailFragment"
        android:label="Plugin Permissions">
        <argument
            android:name="pluginId"
            app:argType="string" />
    </fragment>
    
    <!-- Plugin Security Dashboard -->
    <fragment
        android:id="@+id/nav_plugin_security"
        android:name="com.ble1st.connectias.ui.plugin.security.PluginSecurityDashboardFragment"
        android:label="Plugin Security">
        <argument
            android:name="pluginId"
            app:argType="string" />
    </fragment>
    
    <!-- Network Policy Configuration -->
    <fragment
        android:id="@+id/nav_network_policy_config"
        android:name="com.ble1st.connectias.ui.plugin.security.NetworkPolicyConfigurationFragment"
        android:label="Network Policy Configuration" />
    
    <!-- Security Audit Dashboard -->
    <fragment
        android:id="@+id/nav_security_audit_dashboard"
        android:name="com.ble1st.connectias.ui.plugin.security.SecurityAuditDashboardFragment"
        android:label="Security Audit Dashboard" />

    <!-- Central Security Dashboard (All Plugins) -->
    <fragment
        android:id="@+id/nav_security_dashboard"
        android:name="com.ble1st.connectias.ui.plugin.security.SecurityDashboardFragment"
        android:label="Security Dashboard" />

    <!-- Central Privacy Dashboard (All Plugins) -->
    <fragment
        android:id="@+id/nav_privacy_dashboard"
        android:name="com.ble1st.connectias.ui.plugin.privacy.PrivacyDashboardFragment"
        android:label="Privacy Dashboard" />

    <!-- Central Plugin Analytics Dashboard (All Plugins) -->
    <fragment
        android:id="@+id/nav_plugin_analytics_dashboard"
        android:name="com.ble1st.connectias.ui.plugin.analytics.PluginAnalyticsDashboardFragment"
        android:label="Plugin Analytics" />

    <!-- Declarative Plugin Builder (MVP) -->
    <fragment
        android:id="@+id/nav_declarative_plugin_builder"
        android:name="com.ble1st.connectias.ui.plugin.builder.DeclarativePluginBuilderFragment"
        android:label="Declarative Plugin Builder" />

    <!-- Declarative Developer Key Truststore -->
    <fragment
        android:id="@+id/nav_developer_keys"
        android:name="com.ble1st.connectias.ui.plugin.builder.DeveloperKeysFragment"
        android:label="Developer Keys" />

    <!-- Declarative Flow Run Viewer -->
    <fragment
        android:id="@+id/nav_declarative_flow_runs"
        android:name="com.ble1st.connectias.ui.plugin.declruns.DeclarativeFlowRunViewerFragment"
        android:label="Declarative Flow Runs" />

</navigation>
