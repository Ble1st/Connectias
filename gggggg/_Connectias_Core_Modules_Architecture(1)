
# ğŸ›ï¸ **Connectias:  Core Modules fÃ¼r die Hauptapp**

## ğŸ“Š **Ãœbersicht - Was in die Hauptapp gehÃ¶rt? **

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CONNECTIAS HAUPTAPP                           â”‚
â”‚                  (Monolitische Basis-Installation)                 â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”´ ALWAYS INCLUDED (settings.gradle. kts, Zeile 26-31)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  âœ…  : app                    (Host-Application)                   â”‚
â”‚  âœ…  :core                   (Sicherheit, DB, DI)                â”‚
â”‚  âœ…  :common                 (Shared UI, Themes, Strings)        â”‚
â”‚  âœ…  :feature-settings       (App-Einstellungen)                 â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ¡ OPTIONAL (gradle.properties Flag)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  Optional auf gradle.properties:                                  â”‚
â”‚  â”œâ”€ : feature-network        (Port Scanner, WiFi)                â”‚
â”‚  â”œâ”€ : feature-dnstools       (DNS Resolver)                      â”‚
â”‚  â”œâ”€ :feature-ntp            (NTP Client)                        â”‚
â”‚  â”œâ”€ :feature-password       (Password Generator)                â”‚
â”‚  â”œâ”€ : feature-dvd            (DVD Player)                        â”‚
â”‚  â”œâ”€ :feature-bluetooth      (BT Scanner)                        â”‚
â”‚  â”œâ”€ :feature-barcode        (QR/Barcode)                        â”‚
â”‚  â”œâ”€ :feature-calendar       (Calendar)                          â”‚
â”‚  â”œâ”€ :feature-scanner        (Document Scanner)                  â”‚
â”‚  â”œâ”€ :feature-ssh            (SSH/SCP)                           â”‚
â”‚  â”œâ”€ :feature-deviceinfo     (Device Info)                       â”‚
â”‚  â”œâ”€ :feature-satellite      (GPS)                               â”‚
â”‚  â””â”€ :feature-secure-notes   (Encrypted Notes)                   â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **TEIL 1: KERN-MODULE (Immer dabei)**

### **1. 1 : app - Host Application**

```gradle
// app/build.gradle. kts
plugins {
    alias(libs.plugins.android.application)  // â† Hauptapp (AAB/APK)
    alias(libs.plugins.kotlin.android)
    alias(libs.plugins.hilt)                 // â† Dependency Injection
    alias(libs.plugins.ksp)                  // â† Annotation Processing
    alias(libs.plugins.navigation. safe. args) // â† Fragment Navigation
    alias(libs.plugins.kotlin.compose)       // â† Compose
}

dependencies {
    // Core Module laden
    implementation(project(":core"))
    implementation(project(": common"))
    implementation(project(":feature-settings"))  // â† Immer dabei! 
    
    // Optional Feature Module
    val featureNetworkEnabled = ... 
    if (featureNetworkEnabled) {
        implementation(project(":feature-network"))
    }
    // ... weitere optionale Module
}
```

**Verantwortlichkeiten:**
- ğŸ¯ **MainActivity** - App-Einstieg, Security Check
- ğŸ—ºï¸ **Navigation** - Fragment-Navigation (nav_graph.xml)
- ğŸ“± **Splash Screen** - Willkommensbildschirm
- ğŸ”Œ **Plugin Manager** - (ZukÃ¼nftig) Plugin-Verwaltung

**GrÃ¶ÃŸe:** ~200-300 KB (reine App-Code)

---

### **1.2 : core - Sicherheit & Infrastruktur**

```gradle
// core/build.gradle.kts
plugins {
    alias(libs.plugins.android.library)  // â† Library (nicht launchbar)
    alias(libs.plugins.hilt)
    alias(libs.plugins.kotlin.serialization)
    alias(libs.plugins.kotlin.parcelize)
}

dependencies {
    implementation(project(":common"))  // Core braucht Common
    
    // Database + Encryption
    implementation(libs.androidx. room. runtime)
    implementation(libs. sqlcipher. android)  // â† VerschlÃ¼sselte DB
    
    // Security
    implementation(libs.security.crypto)    // â† Keystore
    implementation(libs.rootbeer)           // â† Root Detection
    
    // Logging + Hilt
    implementation(libs.timber)
    implementation(libs.hilt.android)
    
    // Networking
    implementation(libs.okhttp)             // â† SSL Pinning
}

// NDK Configuration
externalNativeBuild {
    cmake {
        path = file("src/main/cpp/CMakeLists.txt")
    }
}
```

**Was ist drin:**

```
core/src/main/kotlin/com/ble1st/connectias/core/
â”œâ”€ database/
â”‚  â”œâ”€ AppDatabase.kt           (SQLCipher)
â”‚  â””â”€ dao/                      (SecurityLogDao, SystemLogDao)
â”‚
â”œâ”€ di/
â”‚  â”œâ”€ DatabaseModule.kt        (@Provides Singletons)
â”‚  â”œâ”€ SecurityModule.kt
â”‚  â””â”€ NetworkModule. kt
â”‚
â”œâ”€ security/
â”‚  â”œâ”€ SecurityService.kt       (Hauptklasse!)
â”‚  â”œâ”€ RaspManager.kt           (Runtime App Self-Protection)
â”‚  â”œâ”€ KeyManager.kt            (Android Keystore)
â”‚  â””â”€ Detectors/
â”‚     â”œâ”€ RootDetector.kt       (Rust Native!)
â”‚     â”œâ”€ TamperDetector.kt
â”‚     â”œâ”€ DebuggerDetector.kt
â”‚     â””â”€ EmulatorDetector.kt
â”‚
â”œâ”€ services/
â”‚  â”œâ”€ LoggingService.kt        (Structured Logging)
â”‚  â””â”€ SettingsRepository.kt    (DataStore Preferences)
â”‚
â”œâ”€ module/
â”‚  â”œâ”€ ModuleRegistry.kt        (Runtime Module Management)
â”‚  â”œâ”€ ModuleCatalog.kt         (Module Metadata)
â”‚  â””â”€ [PLUGIN MANAGER]         (ZukÃ¼nftig!)
â”‚
â””â”€ cpp/
   â””â”€ CMakeLists.txt           (NDK Build fÃ¼r Rust Root Detector)
```

**Kritische Funktionen:**
- ğŸ” **SecurityService** - FÃ¼hrt SicherheitsprÃ¼fungen durch
- ğŸ“Š **RaspManager** - Runtime App Self-Protection
- ğŸ—„ï¸ **SQLCipher Database** - VerschlÃ¼sselte Daten
- ğŸ“ **Logging** - Sicherheits- und System-Logs

**GrÃ¶ÃŸe:** ~400-500 KB

---

### **1.3 :common - Shared UI & Design**

```gradle
// common/build.gradle.kts
plugins {
    alias(libs.plugins.android.library)
    alias(libs.plugins.kotlin.compose)
}

// KEINE Dependencies zu Core! 
// Nur zu AndroidX
dependencies {
    implementation(libs.androidx.core.ktx)
    implementation(libs. material3)
    
    // Compose
    implementation(platform(libs.androidx.compose. bom))
    implementation(libs.androidx.compose.ui)
    implementation(libs.androidx.compose.material3)
}
```

**Was ist drin:**

```
common/src/main/kotlin/com/ble1st/connectias/common/
â”œâ”€ ui/
â”‚  â”œâ”€ theme/
â”‚  â”‚  â”œâ”€ Theme.kt              (Material3 + Expressive)
â”‚  â”‚  â”œâ”€ ThemeStyle.kt         (Standard vs.  Adeptus Mechanicus)
â”‚  â”‚  â”œâ”€ Color.kt              (Farb-Palette)
â”‚  â”‚  â””â”€ Type.kt               (Typographie)
â”‚  â”‚
â”‚  â””â”€ strings/
â”‚     â”œâ”€ LocalAppStrings.kt    (CompositionLocal fÃ¼r Texte)
â”‚     â”œâ”€ StandardDictionary.kt (Englisch)
â”‚     â””â”€ AdeptusTheme.kt       (Tech-Variante)
â”‚
â””â”€ ui_components/
   â”œâ”€ Buttons.kt               (Reusable Composables)
   â”œâ”€ Cards.kt
   â””â”€ Dialogs.kt
```

**Verantwortung:**
- ğŸ¨ **Material3 Theme** - Moderne Google Design-Sprache
- ğŸŒ™ **Dark/Light Mode** - Dynamisch
- ğŸ“± **Responsive UI** - Flexible Layouts
- ğŸ”¤ **Theme-aware Strings** - Lokalisierbar

**GrÃ¶ÃŸe:** ~150-200 KB

---

### **1.4 :feature-settings - Einstellungen**

```gradle
// feature-settings/build.gradle. kts
plugins {
    alias(libs.plugins.android.library)
    alias(libs.plugins.hilt)
    alias(libs.plugins.kotlin. compose)
}

dependencies {
    implementation(project(":core"))   // Braucht SettingsRepository
    implementation(project(":common"))  // Braucht Theme
}
```

**Was ist drin:**

```
feature-settings/src/main/kotlin/com/ble1st/connectias/
feature/settings/
â”œâ”€ ui/
â”‚  â”œâ”€ SettingsFragment.kt
â”‚  â”œâ”€ SettingsScreen.kt        (Compose UI)
â”‚  â””â”€ SettingsViewModel.kt
â”‚
â”œâ”€ data/
â”‚  â””â”€ [SettingsRepository von Core]
â”‚
â””â”€ di/
   â””â”€ SettingsFeatureModule.kt (Hilt)
```

**Settings:**
- ğŸ¨ Theme (Light/Dark/System)
- ğŸ­ Theme Style (Standard/Adeptus Mechanicus)
- ğŸŒˆ Dynamic Color (Android 12+)
- ğŸ”’ Auto-Lock Timer
- ğŸ“Š RASP Logging Level
- ğŸ—‘ï¸ Reset-Funktionen

**GrÃ¶ÃŸe:** ~100-150 KB

---

## ğŸ›ï¸ **TEIL 2: MODULE ABHÃ„NGIGKEITEN-BAUM**

```
                        : app (Host)
                    /    |      \
                   /     |       \
            :core        :common  :feature-settings
               |            |           /
               |            |          /
          [Sicherheit]  [Design]  [Settings UI]
          [DB]          [Strings]  [SettingsRepo]
          [DI]          [Theme]


Optionale Module alle abhÃ¤ngig von : core + :common: 

: feature-network â”€â”€â”
: feature-dvd â”€â”€â”€â”€â”€â”€â”¼â”€â†’ :core + :common + Android Framework
:feature-passwordâ”€â”€â”¤
:feature-barcodeâ”€â”€â”€â”˜
...  alle anderen optional modules


ABHÃ„NGIGKEITS-RICHTUNG:
  optional module â†’ core, common
  core            â†’ common
  common          â†’ NICHTS (Android Framework only)
  app             â†’ alles
```

---

## ğŸ“¦ **TEIL 3: Minimale vs. Maximale Installation**

### **Minimale Installation (Nur Kern)**

```gradle
# gradle.properties
feature.network.enabled=false
feature.dvd.enabled=false
feature.bluetooth.enabled=false
feature. dnstools.enabled=false
feature.ntp.enabled=false
feature.password.enabled=false
feature.barcode.enabled=false
feature.calendar.enabled=false
feature.scanner.enabled=false
feature.ssh.enabled=false
feature.deviceinfo.enabled=false
feature.satellite.enabled=false
feature.secure. notes.enabled=false
```

**Modules geladen:**
- âœ… : app (HOST)
- âœ… :core (SICHERHEIT)
- âœ… :common (UI)
- âœ… :feature-settings (EINSTELLUNGEN)

**APK-GrÃ¶ÃŸe:** ~20-30 MB  
**Native Libraries:** nur SQLCipher, Root Detector (Rust)

**Was ist mÃ¶glich:**
- ğŸ” SicherheitsprÃ¼fungen
- ğŸ¨ Theme wechseln
- âš™ï¸ Einstellungen
- ğŸ“ Logs anschauen

---

### **Maximale Installation (Alles aktiviert)**

```gradle
# gradle.properties
feature.network.enabled=true
feature.dvd.enabled=true
feature.bluetooth.enabled=true
feature.dnstools.enabled=true
feature.ntp.enabled=true
feature. password.enabled=true
feature. barcode.enabled=true
feature.calendar.enabled=true
feature.scanner.enabled=true
feature.ssh.enabled=true
feature.deviceinfo.enabled=true
feature.satellite.enabled=true
feature.secure.notes.enabled=true
```

**Modules geladen:**
- âœ… :app (HOST)
- âœ… :core (SICHERHEIT)
- âœ… :common (UI)
- âœ… :feature-settings (EINSTELLUNGEN)
- âœ… :feature-network (PORT SCANNER + DNS)
- âœ… :feature-dvd (DVDPLAYER)
- âœ… :feature-password (PASSWORD GEN)
- âœ… :feature-barcode (QR CODES)
- âœ… :feature-bluetooth (BT SCANNER)
- âœ… :feature-dnstools (DNS TOOLS)
- âœ… :feature-ntp (NTP)
- âœ… :feature-calendar (CALENDAR)
- âœ… :feature-scanner (DOC SCANNER)
- âœ… :feature-ssh (SSH/SCP)
- âœ… :feature-deviceinfo (INFO)
- âœ… :feature-satellite (GPS)
- âœ… :feature-secure-notes (NOTES)

**APK-GrÃ¶ÃŸe:** ~80-120 MB  
**Native Libraries:** 6+ . so Dateien (Rust Port Scanner, DNS Tools, NTP, Password, Root Detector, + C++ DVD)

---

## ğŸ”Œ **TEIL 4: Was ist NICHT im Kern?**

### **NICHT im Kern (Alle Module)**

```
:feature-network
:feature-dvd
:feature-password
:feature-barcode
:feature-bluetooth
:feature-dnstools
:feature-ntp
:feature-calendar
:feature-scanner
:feature-ssh
:feature-deviceinfo
:feature-satellite
:feature-secure-notes

Neue optionale Module:
:feature-reporting       â† Crash/Error Reports
:feature-utilities       â† Hash, Encoding, QR Tools
:feature-backup         â† Backup & Restore
:feature-privacy        â† Privacy Dashboard
:feature-camera         â† Camera Scanner
```

**Warum nicht im Kern?**
- ğŸ“¦ **Speicher sparen** - Kleinere APK bei Bedarf
- ğŸš€ **Performance** - Schnellerer Start
- ğŸ”§ **ModularitÃ¤t** - UnabhÃ¤ngig entwickelbar
- ğŸ“± **Device VariabilitÃ¤t** - Nicht jedes Device braucht alles
- ğŸ¯ **Plugin-System ready** - Leicht zu externalisieren

---

## âš™ï¸ **TEIL 5: Core Module Detailliert**

### **: core Substruktur**

```
core/src/main/
â”œâ”€ kotlin/com/ble1st/connectias/core/
â”‚  â”‚
â”‚  â”œâ”€ database/
â”‚  â”‚  â”œâ”€ AppDatabase.kt              Room + SQLCipher
â”‚  â”‚  â”œâ”€ dao/
â”‚  â”‚  â”‚  â”œâ”€ SecurityLogDao.kt        Sicherheitslogs
â”‚  â”‚  â”‚  â””â”€ SystemLogDao.kt          System Logs
â”‚  â”‚  â””â”€ migrations/
â”‚  â”‚     â””â”€ MIGRATION_1_2.kt         Schema-Versioning
â”‚  â”‚
â”‚  â”œâ”€ di/
â”‚  â”‚  â”œâ”€ DatabaseModule.kt           @Provides AppDatabase
â”‚  â”‚  â”œâ”€ SecurityModule.kt           @Provides SecurityService
â”‚  â”‚  â”œâ”€ RepositoryModule.kt         @Provides Repositories
â”‚  â”‚  â””â”€ CoroutineModule.kt          @Provides Dispatchers
â”‚  â”‚
â”‚  â”œâ”€ security/
â”‚  â”‚  â”œâ”€ SecurityService.kt          â­ HAUPTKLASSE
â”‚  â”‚  â”‚  fun performSecurityCheckWithTermination()
â”‚  â”‚  â”‚  fun checkForThreats(): SecurityCheckResult
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ RaspManager.kt              Runtime App Self-Protection
â”‚  â”‚  â”‚  â”œâ”€ enableMonitoring()
â”‚  â”‚  â”‚  â”œâ”€ detectTamper()
â”‚  â”‚  â”‚  â””â”€ blockIfNeeded()
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ KeyManager.kt               Android Keystore
â”‚  â”‚  â”‚  â”œâ”€ generateKey()
â”‚  â”‚  â”‚  â”œâ”€ encrypt(data)
â”‚  â”‚  â”‚  â””â”€ decrypt(data)
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ detectors/
â”‚  â”‚     â”œâ”€ RootDetector.kt (JNI â†’ Rust)
â”‚  â”‚     â”œâ”€ TamperDetector.kt
â”‚  â”‚     â”œâ”€ DebuggerDetector.kt
â”‚  â”‚     â”œâ”€ EmulatorDetector.kt
â”‚  â”‚     â”œâ”€ MockLocationDetector.kt
â”‚  â”‚     â””â”€ SuspiciousAPKsDetector.kt
â”‚  â”‚
â”‚  â”œâ”€ services/
â”‚  â”‚  â”œâ”€ LoggingService.kt           Structured Logging + Rotation
â”‚  â”‚  â”œâ”€ SettingsRepository.kt       DataStore Preferences
â”‚  â”‚  â””â”€ TelemetryService.kt         (Optional) Analytics
â”‚  â”‚
â”‚  â”œâ”€ module/
â”‚  â”‚  â”œâ”€ ModuleRegistry.kt           ConcurrentHashMap
â”‚  â”‚  â”œâ”€ ModuleCatalog.kt            Metadata
â”‚  â”‚  â”œâ”€ PluginManager.kt            (ZukÃ¼nftig!) Runtime Loading
â”‚  â”‚  â””â”€ PluginValidator.kt          (ZukÃ¼nftig!) Security Check
â”‚  â”‚
â”‚  â””â”€ models/
â”‚     â”œâ”€ SecurityCheckResult.kt
â”‚     â”œâ”€ Threat.kt
â”‚     â”œâ”€ LogEntry.kt
â”‚     â””â”€ PluginMetadata.kt
â”‚
â””â”€ cpp/
   â”œâ”€ CMakeLists.txt                NDK Config
   â”œâ”€ JniLoader.cpp
   â””â”€ [Rust bindings fÃ¼r Root Detection]

core/src/main/rust/
â”œâ”€ Cargo.toml                        Rust Project
â”œâ”€ src/
â”‚  â”œâ”€ lib.rs                         JNI Bindings
â”‚  â”œâ”€ root_detector.rs               Root Detection Logic
â”‚  â”œâ”€ tamper_detector.rs
â”‚  â””â”€ debugger_detector.rs
```

**GrÃ¶ÃŸe Breakdown:**

| Komponente | GrÃ¶ÃŸe |
|-----------|-------|
| Kotlin Code | ~200 KB |
| Rust Binaries | ~150 KB |
| Dependencies | ~100 KB |
| **TOTAL** | **~450 KB** |

---

## ğŸ—ï¸ **TEIL 6: Startup-Sequenz**

```
1. App Start
   â†“
2. SplashScreen installieren
   â†“
3. Hilt Dependency Injection initialisieren
   â”œâ”€ DatabaseModule.init() 
   â”‚  â”œâ”€ System. loadLibrary("sqlcipher")
   â”‚  â””â”€ Room Database Ã¶ffnen
   â”‚
   â”œâ”€ SecurityModule. init()
   â”‚  â”œâ”€ Load Rust Root Detector
   â”‚  â””â”€ Initialize KeyManager
   â”‚
   â””â”€ RepositoryModule.init()
      â”œâ”€ SettingsRepository
      â””â”€ LoggingService
   â†“
4. MainActivity. onCreate()
   â”œâ”€ performSecurityCheckWithTermination()  (5sec Timeout)
   â”‚  â”œâ”€ RootDetector.check() [Rust]
   â”‚  â”œâ”€ TamperDetector.check()
   â”‚  â”œâ”€ DebuggerDetector.check()
   â”‚  â””â”€ EmulatorDetector.check()
   â”‚
   â””â”€ if threats:  blockApp()
   
   â†“
5. setupModuleDiscovery()
   â”œâ”€ ModuleCatalog.getAvailableModules()
   â”‚  â”œâ”€ Class.forName() fÃ¼r jedes Feature-Modul
   â”‚  â””â”€ Nur die kompilierten laden
   â”‚
   â””â”€ ModuleRegistry.registerModule()
   
   â†“
6. initializeMainUI()
   â”œâ”€ setContentView(binding.root)
   â”œâ”€ setupNavigation()
   â””â”€ addFabOverlay()
   
   â†“
7. SplashScreen dismiss
   â†“
8. ğŸ‰ App lÃ¤dt Fragments
```

---

## ğŸ“Š **TEIL 7: Build-Varianten**

```gradle
// build.gradle.kts (app)

android {
    buildTypes {
        release {
            isMinifyEnabled = true
            isShrinkResources = true
            proguardFiles("proguard-rules.pro")
        }
        debug {
            isMinifyEnabled = false
        }
    }
    
    // Splits fÃ¼r GrÃ¶ÃŸe-Optimierung
    splits {
        abi {
            isEnable = true
            include("arm64-v8a")      // Nur ARM64
            isUniversalApk = false    // Kein Universal APK
        }
    }
}
```

**Output:**
- `app-release.aab` â†’ ~60-120 MB (alle Features)
- `app-debug.apk` â†’ ~80-150 MB (unoptimiert)
- Split-APKs â†’ ~35-50 MB pro ABI (nur ARM64)

---

## ğŸ¯ **TEIL 8: Checkliste - Was muss in Core bleiben?**

```
UNBEDINGT in : core:
âœ… SecurityService
âœ… RaspManager
âœ… KeyManager (Android Keystore)
âœ… SQLCipher Database
âœ… Logging Service
âœ… ModuleRegistry + ModuleCatalog
âœ… Dependency Injection (Hilt)
âœ… Detectors (Root, Tamper, Debugger, Emulator)

OPTIONAL in :core: 
âš ï¸ PluginManager (jetzt nicht needed, fÃ¼r Zukunft)
âš ï¸ TelemetryService (Firebase)
âš ï¸ CrashHandler

NIEMALS in :core:
âŒ Feature-specific UI (NetworkToolsFragment, etc.)
âŒ Feature-specific Services (PortScanner, etc.)
âŒ DVD-specific Code (libdvdread, etc.)
âŒ Feature-specific Rust Libraries
```

---

## ğŸ“‹ **ZUSAMMENFASSUNG**

| Modul | Typ | GrÃ¶ÃŸe | Status | Beschreibung |
|-------|-----|-------|--------|-------------|
| **: app** | Application | 200KB | KERN âœ… | Host App, Navigation, UI |
| **:core** | Library | 450KB | KERN âœ… | Security, DB, DI, Services |
| **:common** | Library | 175KB | KERN âœ… | Theme, UI Components |
| **:feature-settings** | Library | 120KB | KERN âœ… | Einstellungen |
| **:feature-network** | Library | 800KB | Optional | Port Scanner (Rust) |
| **:feature-dvd** | Library | 5MB+ | Optional | DVD Player (C++) |
| **:feature-password** | Library | 400KB | Optional | Password Gen (Rust) |
| **:feature-barcode** | Library | 300KB | Optional | QR Codes |
| **:feature-dnstools** | Library | 600KB | Optional | DNS Resolver (Rust) |
| **:feature-ntp** | Library | 350KB | Optional | NTP Client (Rust) |
| **... andere** | Library | var | Optional | Verschiedene Tools |

**Kern-GrÃ¶ÃŸe (Minimal):** ~945 KB (ohne optionale Module)  
**Mit allen Features:** ~80-120 MB
